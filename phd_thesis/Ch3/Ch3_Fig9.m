% Paper: M.F.A. Ahmed and S.A. Vorobyov, "Collaborative beamforming for
% wireless sensor networks with Gaussian distributed sensor nodes," IEEE
% Trans. Wireless Communications, vol. 8, no. 2, pp.638-643, Feb. 2009.
% Fig 4: The CCDF of a sample beampattern for both uniform and Gaussian
% spatial distributions: phi = pi/4 and R = 3 sigma = 2.
%
%
%
% N : Number of sensor nodes
% R : Cluster radius
% V : Vairiance of the Gaussian spatial distribution corresponding to
% cluster radius R
% phi : The azimuth angle.
% P0 : Power level.
% P0dB : Power level in dB.
% CCDF_prec : The precise CCDF of the beampattern level defined for Uniform and Gaussian
% spatial distributions.
% CCDF_RayleighApp : The approx. CCDF of the beampattern level defined for Uniform and Gaussian
% spatial distributions.



clc;clear;

P0dB = -50:0;
P0 = 10.^(P0dB./10);
R = 2;
V = (R^2)/9;
phi = pi/4;
%%%%%%%%%%%%%%%%%%
N = 16;
[CCDF_prec_u_N16,CCDF_prec_g_N16,CCDF_RayleighApp_N16]=MyCCDF(N,P0,V,phi);
%%%%%%%%%%%%%%%%%
N = 256;
[CCDF_prec_u_N256,CCDF_prec_g_N256,CCDF_RayleighApp_N256]=MyCCDF(N,P0,V,phi);
%%%%%%%%%%%%%%%%%
N = 1024;
[CCDF_prec_u_N1024,CCDF_prec_g_N1024,CCDF_RayleighApp_N1024]=MyCCDF(N,P0,V,phi);


save Ch3_Fig9
% %   - - - Ploting the figure - - -
% 
% %% Create figure
% figure1 = figure;
% %% Create axes
% axes1 = axes(...
%     'Parent',figure1);
% xlabel(axes1,'Power P_0 [dB]');
% ylabel(axes1,'CCDF');
% grid(axes1,'on');
% hold(axes1,'all');
% 
% %% Create plot
% plot1 = plot(...
%     P0dB,CCDF_prec_u_N16,...
%     'LineStyle','-.',...
%     'Color','k',...
%     'Parent',axes1,...
%     'DisplayName',' CCDF - Uniform');
% 
% %% Create plot
% plot2 = plot(...
%     P0dB,CCDF_prec_g_N16,...
%     'Color','k',...
%     'Parent',axes1,...
%     'DisplayName',' CCDF - Gaussian');
% 
% %% Create plot
% plot3 = plot(...
%     P0dB,CCDF_RayleighApp_N16,...
%     'Color','k',...
%     'LineStyle','none',...
%     'Marker','x',...
%     'Parent',axes1,...
%     'DisplayName','Rayleigh Approximation');
% %% Create plot
% plot4 = plot(...
%     P0dB,CCDF_prec_u_N256,...
%     'Color','k',...
%     'LineStyle','-.',...
%     'Parent',axes1,...
%     'DisplayName',' CCDF - Uniform');
% 
% %% Create plot
% plot5 = plot(...
%     P0dB,CCDF_prec_g_N256,...
%     'Color','k',...
%     'Parent',axes1,...
%     'DisplayName',' CCDF - Gaussian');
% 
% %% Create plot
% plot6 = plot(...
%     P0dB,CCDF_RayleighApp_N256,...
%     'Color','k',...
%     'LineStyle','none',...
%     'Marker','x',...
%     'Parent',axes1,...
%     'DisplayName','Rayleigh Approximation');
% %% Create plot
% plot7 = plot(...
%     P0dB,CCDF_prec_u_N1024,...
%     'Color','k',...
%     'LineStyle','-.',...
%     'Parent',axes1,...
%     'DisplayName',' CCDF - Uniform');
% 
% %% Create plot
% plot8 = plot(...
%     P0dB,CCDF_prec_g_N1024,...
%     'Color','k',...
%     'Parent',axes1,...
%     'DisplayName',' CCDF - Gaussian');
% 
% %% Create plot
% plot9 = plot(...
%     P0dB,CCDF_RayleighApp_N1024,...
%     'Marker','x',...
%     'LineStyle','none',...
%     'Parent',axes1,...
%     'DisplayName','Rayleigh Approximation');
% 
% %% Create legend
% legend1 = legend(...
%     axes1,{' CCDF - Uniform',' CCDF - Gaussian','Rayleigh Approximation'},...
%     'Location','SouthWest');
% box on
% % Create textbox
% annotation(figure1,'textbox',...
%     [0.384285714285713 0.633761904761906 0.141071428571429 0.0666666666666667],...
%     'String',{'N = 1024'},...
%     'LineStyle','none');
% 
% % Create textbox
% annotation(figure1,'textbox',...
%     [0.810714285714285 0.634714285714287 0.116071428571429 0.0666666666666667],...
%     'String',{'N = 16'},...
%     'LineStyle','none');
% 
% % Create ellipse
% annotation(figure1,'ellipse',...
%     [0.501785714285714 0.619047619047619 0.0617142857142856 0.0285714285714303]);
% 
% % Create textbox
% annotation(figure1,'textbox',...
%     [0.611071428571427 0.636142857142859 0.128571428571429 0.0666666666666667],...
%     'String',{'N = 256'},...
%     'LineStyle','none');
% 
% % Create ellipse
% annotation(figure1,'ellipse',...
%     [0.604571428571428 0.623809523809524 0.0365000000000002 0.0214285714285723]);
% 
